/**
 * Filename: purchase.requestOrder.js
 * Generated 2019-03-07 at 01:19:20 AM
 */
Ext.define('ExtApp.modules.master_pos.model.model_masterItem',{extend:'Ext.data.Model',alias:'model_masterItem',fields:[{name:'id',type:'int'},{name:'item_code',type:'string'},{name:'item_sku',type:'string'},{name:'item_name',type:'string'},{name:'item_code_name',type:'string'},{name:'item_name_code',type:'string'},{name:'item_desc',type:'string'},{name:'item_manufacturer',type:'string'},{name:'sales_price',type:'string'},{name:'sales_price_show',type:'string'},{name:'item_price',type:'string'},{name:'item_price_show',type:'string'},{name:'item_hpp',type:'string'},{name:'item_hpp_show',type:'string'},{name:'last_in',type:'string'},{name:'last_in_show',type:'string'},{name:'total_qty_stok',type:'string'},{name:'item_type',type:'string'},{name:'item_type_name',type:'string'},{name:'item_image',type:'string'},{name:'item_image_show',type:'string'},{name:'item_image_src',type:'string'},{name:'category_id',type:'int'},{name:'item_category_name',type:'string'},{name:'item_category_code',type:'string'},{name:'subcategory_id',type:'int'},{name:'item_subcategory_name',type:'string'},{name:'item_subcategory_code',type:'string'},{name:'unit_id',type:'int'},{name:'unit_name',type:'string'},{name:'unit_code',type:'string'},{name:'supplier_id',type:'int'},{name:'supplier_name',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'},{name:'use_for_sales',type:'int'},{name:'use_for_sales_text',type:'string'},{name:'id_ref_menu',type:'int'},{name:'sales_use_tax',type:'int'},{name:'sales_use_tax_text',type:'string'},{name:'sales_use_service',type:'int'},{name:'sales_use_service_text',type:'string'},{name:'is_kerjasama',type:'int'},{name:'is_kerjasama_text',type:'string'},{name:'persentase_bagi_hasil',type:'string'},{name:'total_bagi_hasil',type:'string'},{name:'total_bagi_hasil',type:'string'},{name:'total_bagi_hasil_show',type:'string'},{name:'use_stok_kode_unik',type:'int'},{name:'use_stok_kode_unik_text',type:'string'},{name:'min_stock',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterItem/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.model.model_masterUnit',{extend:'Ext.data.Model',alias:'model_masterUnit',fields:[{name:'id',type:'int'},{name:'unit_name',type:'string'},{name:'unit_code',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterUnit/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.model.model_masterDivisi',{extend:'Ext.data.Model',alias:'model_masterDivisi',fields:[{name:'id',type:'int'},{name:'divisi_name',type:'string'},{name:'divisi_desc',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterDivisi/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.purchase.model.model_requestOrder',{extend:'Ext.data.Model',alias:'model_requestOrder',fields:[{name:'id',type:'int'},{name:'ro_number',type:'string'},{name:'ro_date',type:'string'},{name:'ro_memo',type:'string'},{name:'ro_from',type:'string'},{name:'ro_total_qty',type:'string'},{name:'ro_status',type:'string'},{name:'ro_status_text',type:'string'},{name:'divisi_id',type:'string'},{name:'divisi_name',type:'string'},{name:'total_item',type:'int'},{name:'total_request',type:'int'},{name:'total_validate',type:'int'},{name:'is_active',type:'string'},{name:'is_active_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'purchase/requestOrder/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.purchase.model.model_requestOrderDetail',{extend:'Ext.data.Model',alias:'model_requestOrderDetail',fields:[{name:'id',type:'string'},{name:'ro_id',type:'string'},{name:'item_id',type:'int'},{name:'ro_detail_qty',type:'string'},{name:'ro_detail_status',type:'string'},{name:'take_reff_detail_id',type:'string'},{name:'item_name',type:'string'},{name:'item_price',type:'string'},{name:'item_image',type:'string'},{name:'unit_name',type:'string'},{name:'unit_id',type:'int'},{name:'nomor',type:'int'}],proxy:{type:'ajax',url:appUrl+'purchase/requestOrder/gridDataDetail',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.store.store_masterItem',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterItem',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.master_pos.store.store_masterUnit',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterUnit',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.master_pos.store.store_masterDivisi',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterDivisi',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.purchase.store.store_requestOrder',{extend:'Ext.data.Store',model:'ExtApp.modules.purchase.model.model_requestOrder',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.purchase.store.store_requestOrderDetail',{extend:'Ext.data.Store',model:'ExtApp.modules.purchase.model.model_requestOrderDetail',autoLoad:false,remoteSort:true});Ext.define("ExtApp.modules.purchase.view.requestOrder",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var store_requestOrder_grid=theApp.getStore('store_requestOrder_grid',false);if(store_requestOrder_grid==false){store_requestOrder_grid=theApp.copyStore('purchase','store_requestOrder','store_requestOrder_grid');}
store_requestOrder_grid.proxy.extraParams.not_cancel=true;var helperGrid=theApp.getHelper('Grid');var phpJs=theApp.getHelper('phpJs');var selModel_requestOrder=Ext.create('Ext.selection.CheckboxModel',{listeners:{selectionchange:function(sm,selections){Ext.getCmp('grid_requestOrder').down('#deleteButton_requestOrder').setDisabled(selections.length==0);}}});me.pagingtb_requestOrder=helperGrid.paging({ds:store_requestOrder_grid,title:'Request Order'});return desktop.createWindow({id:me.id,title:'Request Order',width:850,height:500,iconCls:'icon-grid',animCollapse:false,constrainHeader:true,resizable:true,maximized:false,border:false,border:0,layout:{type:'border'},items:[{xtype:'form',title:'Filter',width:330,region:'west',id:'form_filter_requestOrder',split:true,collapsible:true,splitterResize:false,collapseMode:'mini',animCollapse:true,scroll:false,bodyPadding:10,margin:'0 0 0 0',items:[{xtype:'textfield',name:'keywords',labelWidth:60,labelSeparator:'',emptyText:'Keywords: RO.NO',anchor:'100%',margin:'0 0 15 0',listeners:{specialkey:function(field,e){if(e.getKey()==e.ENTER){me.search_requestOrder();}}}},{xtype:'panel',border:0,layout:{type:'column'},margin:'0 0 15 0',items:[{xtype:'datefield',fieldLabel:'Date From',name:'date_from',labelSeparator:'',format:'d-m-Y',altFormats:'Y-m-d|d-m-Y|dmY|Ymd',margin:'5 0 0 0',labelWidth:65,width:170,value:phpJs.date('d-m-Y'),allowBlank:false},{xtype:'datefield',fieldLabel:' To ',name:'date_till',labelSeparator:'',format:'d-m-Y',altFormats:'Y-m-d|d-m-Y|dmY|Ymd',margin:'5 0 0 10',labelWidth:20,width:125,value:phpJs.date('d-m-Y'),allowBlank:false}]},{xtype:'container',style:'text-align:right',border:0,items:[{xtype:'button',text:'Search',scale:'medium',margin:'15 0 0 0',itemId:'btnFilterSearch_requestOrder',tooltip:'Search',iconCls:'btn-search',handler:function(){me.search_requestOrder();}},{xtype:'button',text:'Reset',scale:'medium',margin:'15 60 0 10',itemId:'btnFilterReset_requestOrder',tooltip:'Reset',iconCls:'btn-reset',handler:function(){var form=Ext.getCmp('form_filter_requestOrder').getForm();form.reset();form.findField('keywords').setValue('');form.findField('date_from').setValue(phpJs.date('01-m-Y'));form.findField('date_till').setValue(phpJs.date('t-m-Y'));me.search_requestOrder();}}]}]},{xtype:'gridpanel',margins:'0 0 0 0',region:'center',store:store_requestOrder_grid,id:'grid_requestOrder',scroll:true,selModel:selModel_requestOrder,columns:[{xtype:'gridcolumn',dataIndex:'id',text:'ID',hidden:true,hideable:false},{xtype:'gridcolumn',dataIndex:'ro_number',text:'RO.NO',width:100},{xtype:'datecolumn',dataIndex:'ro_date',text:'Date',width:100,format:'d-m-Y'},{xtype:'gridcolumn',dataIndex:'divisi_name',text:'Divisi',width:200},{xtype:'gridcolumn',dataIndex:'ro_from',text:'Req.From',width:200},{xtype:'gridcolumn',dataIndex:'total_item',text:'Total Item',width:80},{xtype:'gridcolumn',dataIndex:'ro_status_text',text:'Status',width:100}],viewConfig:{stripeRows:true,forceFit:true},listeners:{itemdblclick:function(view,rec,item,index,eventObj){var getSelection=Ext.getCmp('grid_requestOrder').getSelectionModel().selected;if(getSelection.length>0){me.formType='edit';me.edit_data=rec.data;me.createWindow(me,'add_requestOrder');}}},bbar:me.pagingtb_requestOrder,dockedItems:[{xtype:'toolbar',dock:'top',items:[{text:'Filter',itemId:'filterButton_requestOrder',tooltip:'Filter Request Order',iconCls:'btn-search',listeners:{click:function(){Ext.getCmp('form_filter_requestOrder').toggleCollapse();}}},'->',{text:'Add',itemId:'addButton_requestOrder',tooltip:'Add Request Order',iconCls:'btn-add',listeners:{click:function(){me.formType='add';me.edit_data=[];me.createWindow(me,'add_requestOrder');}}},'-',{text:'Cancel',itemId:'deleteButton_requestOrder',tooltip:'Cancel Request Order',iconCls:'btn-delete',disabled:true,listeners:{click:function(){var getSelection=Ext.getCmp('grid_requestOrder').getSelectionModel().selected;if(getSelection.length>0){me.delete_data=getSelection.items[0].data;if(me.delete_data.ro_status=='take'||me.delete_data.ro_status=='validated'){ExtApp.Msg.warning('Cannot Cancel '+me.delete_data.ro_number+'<br/>Request Order been taken / used');}else{me.deleteConfirm_requestOrder();}}else{ExtApp.Msg.info('Please Select Request Order!');}}}},'-',{text:'Refresh',itemId:'refreshButton_requestOrder',tooltip:'Refresh Request Order',iconCls:'btn-refresh',listeners:{click:function(){Ext.getCmp('grid_requestOrder').store.load();}}}]}]}],listeners:{boxready:function(){Ext.getCmp('form_filter_requestOrder').toggleCollapse();me.search_requestOrder();},show:function(){me.search_requestOrder();}}});},add_requestOrder:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var Titletext='Add New ';if(me.formType=='edit'){Titletext='Update ';}
me.store_requestOrderDetailTemp=theApp.getStore('store_requestOrderDetailTemp',false);if(me.store_requestOrderDetailTemp==false){me.store_requestOrderDetailTemp=theApp.copyStore('purchase','store_requestOrderDetail','store_requestOrderDetailTemp');}
me.store_requestOrderDetailTemp.proxy.extraParams.limit=999999;var store_ComboboxMasterItem=theApp.getStore('master_pos.store_ComboboxMasterItem',false);var store_masterItemTemp=theApp.copyStore('master_pos','store_masterItem','store_masterItemTemp');var store_masterItemROAutocomplete=theApp.getStore('store_ComboboxMasterItem',false);if(store_masterItemROAutocomplete==false){store_masterItemROAutocomplete=theApp.copyStore('master_pos','store_masterItem','store_masterItemROAutocomplete');}
store_masterItemROAutocomplete.proxy.extraParams.supplier_id=0;store_masterItemROAutocomplete.proxy.extraParams.item_id=0;store_masterItemROAutocomplete.proxy.extraParams.skip_date=1;store_masterItemROAutocomplete.proxy.extraParams.limit=999999;store_masterItemROAutocomplete.proxy.extraParams.is_dropdown=1;store_masterItemROAutocomplete.proxy.extraParams.keywords='';var store_ComboboxMasterUnit=theApp.getStore('store_ComboboxMasterUnit',false);if(store_ComboboxMasterUnit==false){store_ComboboxMasterUnit=theApp.copyStore('master_pos','store_masterUnit','store_ComboboxMasterUnit');}
store_ComboboxMasterUnit.proxy.extraParams.skip_date=1;store_ComboboxMasterUnit.proxy.extraParams.limit=999999;store_ComboboxMasterUnit.proxy.extraParams.is_dropdown=1;store_ComboboxMasterUnit.proxy.extraParams.keywords='';var store_ComboboxMasterDivisi=theApp.getStore('store_ComboboxMasterDivisi',false);if(store_ComboboxMasterDivisi==false){store_ComboboxMasterDivisi=theApp.copyStore('master_pos','store_masterDivisi','store_ComboboxMasterDivisi');}
store_ComboboxMasterDivisi.proxy.extraParams.skip_date=1;store_ComboboxMasterDivisi.proxy.extraParams.limit=999999;store_ComboboxMasterDivisi.proxy.extraParams.is_dropdown=1;store_ComboboxMasterDivisi.proxy.extraParams.keywords='';var helperGridDetail=theApp.getHelper('Grid');var phpJs=theApp.getHelper('phpJs');var selModel_requestOrderDetail=Ext.create('Ext.selection.CheckboxModel',{listeners:{selectionchange:function(sm,selections){Ext.getCmp('grid_requestOrderDetail').down('#deleteButton_requestOrderDetail').setDisabled(selections.length==0);}}});return desktop.createWindow({id:me.id+'_add_requestOrder',title:Titletext,width:645,height:540,iconCls:'btn-add',animCollapse:false,constrainHeader:true,resizable:true,minimizable:false,maximizable:false,modal:true,border:0,layout:{type:'fit'},items:[{xtype:'panel',height:490,margin:'0 0 10 0',border:false,items:[{xtype:'form',id:'form_requestOrder',border:0,bodyPadding:10,border:true,margin:'0 0 0 0',items:[{xtype:'hidden',name:'form_type_requestOrder',value:me.formType},{xtype:'hidden',name:'id'},{xtype:'textfield',name:'ro_number',fieldLabel:'RO.NO',width:250,disabled:true,value:'auto',allowBlank:false},{xtype:'fieldcontainer',layout:{type:'column'},fieldLabel:'',items:[{xtype:'datefield',name:'ro_date',width:250,fieldLabel:'Date',format:'d-m-Y',submitFormat:'Y-m-d',allowBlank:false},{xtype:'checkbox',name:'is_active',fieldLabel:'Status Active',inputValue:'1',margin:'0 0 0 10',hidden:true}]},{xtype:'hidden',name:'divisi_id'},{xtype:'fieldcontainer',layout:{type:'column'},fieldLabel:'',items:[{xtype:'combobox',name:'divisi_name',fieldLabel:'Divisi',emptyText:'-Select-',width:250,store:store_ComboboxMasterDivisi,displayField:'divisi_name',valueField:'id',queryMode:'local',allowBlank:false,listeners:{select:function(combo,records,eOpts){var form2=Ext.getCmp('form_requestOrder').getForm();form2.findField('divisi_id').setValue(records[0].data.id);form2.findField('divisi_name').setValue(records[0].data.divisi_name);}}},{xtype:'label',margin:'3 5 0 10',text:'A/N :'},{xtype:'textfield',name:'ro_from',width:315,allowBlank:true}]},{xtype:'textfield',name:'ro_memo',fieldLabel:'Memo',width:610,allowBlank:true}]},{xtype:'form',border:true,id:'form_requestOrderDetail',bodyBorder:false,bodyPadding:10,title:'',pollForChanges:false,layout:{type:'auto'},items:[{xtype:'panel',layout:{type:'hbox',align:'left'},margin:'0 0 10 0',border:false,items:[{xtype:'hidden',name:'form_type_requestOrderDetail',value:me.formType},{xtype:'hidden',name:'id'},{xtype:'hidden',name:'ro_id'},{xtype:'hidden',name:'item_name'},{xtype:'hidden',name:'unit_name'},{xtype:'hidden',name:'ro_detail_status'},{xtype:'combobox',name:'item_id',id:'add_item_id_RequestOrder',fieldLabel:'Items',hideLabel:true,emptyText:'-Select Items (Auto complete)-',width:240,style:'margin-right:5px',allowBlank:false,store:store_masterItemROAutocomplete,displayField:'item_name',valueField:'id',hideTrigger:true,queryMode:'local',anyMatch:true,listeners:{select:function(combo,records,eOpts){var form=Ext.getCmp('form_requestOrder').getForm();var form2=Ext.getCmp('form_requestOrderDetail').getForm();form2.findField('ro_id').setValue(form.findField('id').getValue());form2.findField('item_id').select(records[0].data.id);form2.findField('item_name').setValue(records[0].data.item_name);form2.findField('unit_id').select(records[0].data.unit_id);form2.findField('unit_name').setValue(records[0].data.unit_name);},specialkey:function(field,e){var form2=Ext.getCmp('form_requestOrderDetail').getForm();if(e.getKey()==e.ENTER){form2.findField('ro_detail_qty').focus();}}}},{xtype:'numberfield',name:'ro_detail_qty',fieldLabel:'Qty',emptyText:'-Qty-',hideLabel:true,style:'margin-right:5px',width:80,minValue:0,allowDecimals:true,allowBlank:false,hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,listeners:{specialkey:function(field,e){if(e.getKey()==e.ENTER){var form2=Ext.getCmp('form_requestOrderDetail').getForm();form2.findField('unit_id').focus(true);}}}},{xtype:'combobox',name:'unit_id',fieldLabel:'Unit',hideLabel:true,emptyText:'-Select Unit-',width:110,style:'margin-right:5px',store:store_ComboboxMasterUnit,displayField:'unit_name',valueField:'id',queryMode:'local',readOnly:true,allowBlank:false,listeners:{select:function(combo,records,eOpts){var form2=Ext.getCmp('form_requestOrderDetail').getForm();form2.findField('unit_name').setValue(records[0].data.unit_name);Ext.getCmp('btnAdd_requestOrderDetail').focus();},specialkey:function(field,e){if(e.getKey()==e.ENTER){Ext.getCmp('btnAdd_requestOrderDetail').focus();}}}},{xtype:'button',iconCls:'btn-add',name:'btnAdd_requestOrderDetail',id:'btnAdd_requestOrderDetail',width:70,text:'Add',margin:'0 10 0 10',handler:function(){me.add_requestOrderDetail();}},{xtype:'button',iconCls:'btn-reset',name:'btnReset_requestOrderDetail',id:'btnReset_requestOrderDetail',width:70,text:'Reset',handler:function(){me.reset_requestOrderDetail();}}]},{xtype:'panel',margin:'0 0 0 0',layout:'table',border:false,items:[{xtype:'gridpanel',store:me.store_requestOrderDetailTemp,id:'grid_requestOrderDetail',selModel:selModel_requestOrderDetail,scroll:true,width:610,height:250,border:true,columns:[{xtype:'gridcolumn',dataIndex:'id',text:'Detail ID',hidden:true,hideable:false},{xtype:'gridcolumn',dataIndex:'item_id',text:'Supply ID',hidden:true,hideable:false},{xtype:'gridcolumn',width:270,dataIndex:'item_name',text:'Items Name',sortable:false},{xtype:'gridcolumn',width:80,dataIndex:'ro_detail_qty',text:'Qty',sortable:false},{xtype:'gridcolumn',width:120,dataIndex:'unit_name',text:'Unit',sortable:false},{xtype:'gridcolumn',width:100,dataIndex:'ro_detail_status',text:'Status',sortable:false}],listeners:{itemdblclick:function(view,rec,item,index,eventObj){if(!me.edit_data){}else{if(me.edit_data.ro_status=='take'){ExtApp.Msg.warning('Cannot Edit Item, Status RO is Purchased/Used by PO!');return true;}}
var form=Ext.getCmp('form_requestOrderDetail').getForm();form.reset();me.data_RODetail=rec.data;if(me.data_RODetail.ro_detail_status=='request'||me.data_RODetail.ro_detail_status=='new'){form.setValues(me.data_RODetail);form.findField('form_type_requestOrderDetail').setValue('edit');Ext.getCmp('btnAdd_requestOrderDetail').setText('Edit');}else{ExtApp.Msg.info("Item been validated");}}},dockedItems:[{xtype:'toolbar',dock:'top',items:['->',{text:'Delete',id:'deleteButton_requestOrderDetail',tooltip:'Delete Request Order Detail',iconCls:'btn-delete',disabled:true,handler:function(){var getSelection=Ext.getCmp('grid_requestOrderDetail').getSelectionModel().selected;if(getSelection.length>0){me.delete_data=getSelection.items[0].data;if(me.delete_data.ro_detail_status=='take'){ExtApp.Msg.info('Cannot delete validated item!');}else{me.deleteConfirm_requestOrderDetail();}}else{ExtApp.Msg.info('Please select the data to be deleted!');}}},]}]}]}]}]}],buttons:[{text:'Print',formBind:true,id:'btnPrint_requestOrder',iconCls:'btn-print',disabled:true,handler:function(){me.print_requestOrder();}},'->',{text:'Save',formBind:true,id:'btnSave_requestOrder',iconCls:'btn-save',handler:function(){me.save_requestOrder();}},{text:'Close',iconCls:'btn-cancel',handler:function(){me.doClose(me.id+'_add_requestOrder');}}],listeners:{show:function(){var form=Ext.getCmp('form_requestOrder').getForm();var formD=Ext.getCmp('form_requestOrderDetail').getForm();var ro_id=-1;var rowguid=0;form.reset();if(form.findField('form_type_requestOrder').getValue()=='add'){form.findField('is_active').setValue('1');form.findField('ro_date').setValue(phpJs.date("d-m-Y"));Ext.getCmp('btnPrint_requestOrder').setDisabled(true);me.store_requestOrderDetailTemp.proxy.extraParams.ro_id=ro_id;me.store_requestOrderDetailTemp.loadData([]);store_ComboboxMasterDivisi.load();store_ComboboxMasterUnit.load();var myMask=new Ext.LoadMask(Ext.getCmp('add_item_id_RequestOrder'),{msg:"Loading..."});myMask.show();store_masterItemROAutocomplete.load({callback:function(){myMask.hide();}});}else{form.setValues(me.edit_data);Ext.getCmp('btnPrint_requestOrder').setDisabled(false);var ro_id=me.edit_data.id;formD.findField('ro_id').setValue(ro_id);store_ComboboxMasterDivisi.load();store_ComboboxMasterUnit.load();var myMask=new Ext.LoadMask(Ext.getCmp('add_item_id_RequestOrder'),{msg:"Loading..."});myMask.show();store_masterItemROAutocomplete.load({callback:function(){myMask.hide();}});Ext.getCmp('btnAdd_requestOrderDetail').setDisabled(false);if(me.edit_data.ro_status=='take'){Ext.getCmp('btnAdd_requestOrderDetail').setDisabled(true);}
var myMask2=new Ext.LoadMask(Ext.getCmp('grid_requestOrderDetail'),{msg:"Loading..."});myMask2.show();me.store_requestOrderDetailTemp.proxy.extraParams.ro_id=ro_id;me.store_requestOrderDetailTemp.proxy.extraParams.limit=99999;me.store_requestOrderDetailTemp.load({callback:function(){myMask2.hide();}});}
me.reset_requestOrderDetail();}}});}});